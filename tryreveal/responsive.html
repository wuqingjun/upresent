<!DOCTYPE html>
<html>
<head>
    <style>
       div.edit 
       {
            margin-top: 4vh;
            margin-bottom: 4vh;
            margin-right: 5vh;
            margin-left: 5vh;
            height: 90vh;
            background-color: white;
        }
        .parent img 
        {
            height: 100%;
        }
        div.button 
        {
            -moz-appearance:button; /* Firefox */
            -webkit-appearance:button; /* Safari and Chrome */
            appearance:button;
        }
        div.wrapper 
        {
            overflow: auto;
            width: 40px;
            height:24px;
            position: relative;
        }
        div.wrapper:hover
        {
            background-color:whitesmoke;
            border: 1px  dashed grey;
            resize:horizontal;
        }
        div.line
        {
            top:50%;
            left:1px;
            right:1px;
            resize: horizontal;
            overflow: auto;
            height:2px;
            position: absolute;
            resize:horizontal;
            background-color:black;
        }
        div.rectangle {
            top: 1px;
            bottom: 1px;
            left: 1px;
            right: 1px;
            height: 40px;
            width: 40px;
            border:3px solid #000;
            resize:both;
            position:absolute;
            overflow: auto;
        }
    </style>
    <title></title>
	<meta charset="utf-8" />
    <link rel="stylesheet" href="/public/w3.css">
    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <link type="text/css" href="http://lab.hakim.se/reveal-js/css/reveal.min.css" rel="stylesheet" media="all">

</head>
<body>
    <div class="w3-col" style="overflow:auto">
        <div class="w3-col s12 m12 l2" style="background-color: green;height:100vh; margin-top: 4vh;">
            <div style="float:left; margin-right:4px; margin-top:2px; margin-bottom:2px" class="parent"> <input id="filename" height="24" value="untitledfile" /> </div>
            <div role="button" class="parent button sidebar-link" style="float:left; margin-right:1px;  margin-top:4px; margin-bottom:4px; height:24px;"><img src="/resource/line.png" onclick="drawLine();" style="margin-left:2px;margin-right:2px" /></div>
            <div role="button" class="parent button sidebar-link" style="float:left; margin-right:1px;  margin-top:4px; margin-bottom:4px; height:24px;"><img src="/resource/rect.png" onclick="drawRect();" style="margin-left:2px;margin-right:2px" /></div>
        </div>
        <div class="w3-col s12 m12 l8" style="background-color: red; height:100vh;">
            <div id="editarea" class="edit" style="position: relative">
            </div>
        </div>
        <div class="w3-col s12 m12 l2" style="background-color: yellow; height:100vh;">
        </div>
    </div>

    <script type="text/javascript">
        var wrapperId = 0;
        function drawRect() {
            wrapperId += 1;
            var rect = document.createElement("div");
            rect.setAttribute('id', "myrect"+ wrapperId);
            rect.setAttribute('class', 'rectangle');
            rect.setAttribute('width', '80');
            rect.setAttribute('height', '80');
            document.getElementById('editarea').appendChild(rect);
            $('#' + "myrect" + wrapperId).draggable();
            $('#' + "myrect" + wrapperId).resize();
        }

        function drawLine() {
            wrapperId += 1;
            var ele = document.createElement("div");
            var id = "mywrapper" + wrapperId;
            ele.setAttribute('id', id);
            ele.setAttribute('class', 'wrapper');
            ele.setAttribute('draggable', 'true');
            var line = document.createElement('div');
            line.setAttribute('id', 'myline' + wrapperId);
            line.setAttribute('class', 'line');
            ele.appendChild(line);
            document.getElementById('editarea').appendChild(ele);
            $('#' + id).draggable();
        }
    </script>
</body>
</html>
